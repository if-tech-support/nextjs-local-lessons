# nextjs-local-lessons

本リポジトリは、Next.js（App Router）＋ Tailwind CSSを用いたハンズオン教材の作成・配布用プロジェクトです。以下に、ハンズオンを新規作成／更新する際の作業手順と、教材生成に用いるプロンプトをまとめます。

本教材は「単一のNext.jsアプリケーション（1つのプロジェクトディレクトリ）」を01章から最終章まで段階的に拡張して完成させる形式です。各章で新しくNext.jsプロジェクトを`create-next-app`などで再生成しないでください。第1章（環境構築）以降は既存プロジェクト内の既存ファイルを編集／新規ファイルを追加する指示のみを行います。

## ハンズオン作成フロー

1. 設計ドキュメントを用意する（design.md）

   - 目的・到達目標、対象読者、ページ構成（`/`、`/company` など）、デザイン値（テーマカラー、最大幅、ブレークポイント）、扱う/扱わない機能（データフェッチなど）を簡潔に記載。
   - 章立ての粒度や前提（必要なプレースホルダー）もここで決める。

2. 目次と概要を作成する（contents.md）

   - ハンズオン全体の概要説明と章立て（章番号・章タイトル）を記載。
   - 章タイトルは「`{2桁番号} {章タイトル}`」の形式で整理。

3. 生成プロンプトを準備する（下記「生成プロンプト」を使用）

   - 可変パラメーター（対象読者レベル、ページ構成、デザイン値、データフェッチなど）を都度指定する。
   - 章はH2見出しから開始し、固定の章構成に従う（「はじめに／目的／学習対象のスキル／課題群／章末の確認」）。

4. 章を1つずつ作成する

   - 各課題は「仕様／ヒント／解答例（TSX）／（任意で実装ポイント）」で構成。
   - 仕様はタグ名を明記し、数値（色・余白・サイズ・時間）を言葉で具体化。
   - 仕様文では「セマンティック」「ルート」は使わない（スキル名では可）。「レスポンシブ」「コンテナー」は使用可。
   - 章を跨いで新規プロジェクトを再作成しない（単一コードベースに積み上げ）。必要な初期化手順は01章にのみ含める。
   - 解答例コードは必ずリポジトリ内の該当ファイル現行実装と整合させる（解答例を更新したらコードも即時反映し差分を残さない）。一時的な簡略版を示す場合は「（後続課題で追記）」など明示。

5. 動作検証（各章ごとに実施）

   - 開発サーバーを起動し、章末の確認項目どおりに表示・遷移・見た目をチェック。
   - 必要に応じて微調整（テキスト、数値、用語統一）。

6. スタイル・表記の最終確認

   - 見出しは章本文をH2から開始。章内の見出しレベルを守る。
   - 日本語スタイル（JTF/PRH相当）：全角句読点、全角かっこ、かっこ前後に不要なスペースを入れない、CJKと半角の間に不要スペースを入れない、算用数字、長音表記など。

7. 品質ゲート（最終）
## 生成プロンプト（教材生成に使用）

以下をそのまま使用し、可変パラメーターを差し込んで生成します。01章（初期セットアップ）/02〜05章（通常課題）/06章（最終まとめ）の3タイプに対応したガイドです。

```markdown
あなたはプロのテクニカルライター兼フロントエンドエンジニアです。次のルールで学習者向けハンズオン教材（日本語・Markdown）を作成してください。

[前提とトーン]
- 学習者は design.md / contents.md を参照しない。章本文だけで初見実装できる内容にする。
- 丁寧かつ簡潔。冗長な前置きや重複説明は避ける。
- 用字・表記（厳守）: 全角句読点、全角かっこ、不要スペース禁止、算用数字、長音適正表記、コード/ファイルはバッククォート。

[技術スタック既定]
- Next.js（App Router + TypeScript + `src/`）
- Tailwind CSS（ユーティリティ直書き）
- 指定がない限りデータフェッチ/状態管理は導入しない。

[章タイプ]
| タイプ | 対象章 | 課題ブロック | 目的 |
| ------ | ------ | ------------- | ---- |
| A 通常課題章 | 02〜05 | 必須（課題A,B,...） | UI/機能を段階実装 |
| B 初期セットアップ章 | 01 | 不要（代わりに手順セクションを複数置いて良い） | 環境準備と起動 |
| C 最終まとめ章 | 06 | 不要（課題禁止、ふりかえりポイントのみ） | 概念の再確認 |

[章共通構成順]
必須: 「## はじめに」→「## 目的」→「## 学習対象のスキル」→（タイプ別本体）→「## 章末の確認」
タイプA本体: 1つ以上の課題ブロック。
タイプB本体: 手順系見出し（例: 前提環境 / 新規プロジェクトの作成 / 動作確認）。
タイプC本体: 「## ふりかえりポイント（確認のみ）」で5〜7項目程度の概念列挙（コード無し）。

[課題ブロック（タイプAのみ）]
見出し例: `## 課題A：Headerを作る（5分）`
直後に定型文（厳密一致/改変不可）: 「5分ほどヒントを参考にして仕様どおりにコーディングに挑戦し、その後に解答例で確認しましょう。」
下位構成: 「### 仕様」→「### ヒント」→「### 解答例」（任意で「### 実装ポイント」）

[仕様記述ルール（タイプA必須 / Bは手順内で可能な限り準拠）]
含める要素:
1. ファイルパス（作成/編集）
2. 要素構造と順序（親→子）: HTMLタグを列挙（`<header>` `<nav>` `<main>` 等）。複数候補/抽象語終わり禁止。
3. 具体数値: 色コード/px/割合/時間/件数。
4. 最小禁止事項（例: 余計なラッパー `<div>` を追加しない）。
5. 使用タグセクション: 行頭「【使用タグ】」+ 箇条書きで3階層以内。各行のタグ文字列を必ずインラインコードで囲む（例: `- `<div>` コンテナー`）。タグの後ろに余計な記号を付けない。
禁止/注意:
- 仕様本文に Tailwind クラス名を直接列挙しない（スタイルは日本語説明）。
- 語「セマンティック」「ルート」を仕様本文で使わない。
- 否定形の羅列で範囲定義しない。

[ヒント]
- 行頭「Tailwind の例：」で代表的ユーティリティを最小列挙。過剰羅列禁止。

[解答例]
- 完全な TSX。必要 import を含める。
- データ配列 / 関数名 / クラス指定は実コードと厳密一致（Strict Parity）。
- 段階学習の占位は JSX コメントで明示（例: `{/* 後続課題でカード追加 */}`）。
- コードブロック直下に本文コメントを追加しない。

[最終まとめ章（タイプC）]
- 課題/仕様/ヒント/解答例を設けない。
- 「ふりかえりポイント」は5〜7項目。学習済みNext.js概念を1行定義形式で列挙（例: App Router / レイアウト継承 / メタデータ / `next/link` / 配列+`map`）。

[Strict Parity（内部運用）]
- 解答例 / 統合コード例と `src/app/...` 実装を差分ゼロに保つ（関数名・タグ階層・配列名/件数・主要クラス・画像URL・文字列）。
- 許容差異: フォーマッタによる空白/改行のみ。
Quick Checklist: 関数名 / 配列名・件数 / タグ階層 / 主要クラス / 画像URL / 文字列 / 統合コード例一致 / 禁止語『骨子』未使用。

[命名 & 構造固定]
- 既存ページ関数名（Top / Company / Service）を変更しない。
- 既存配列名（SERVICE_SECTION_CONTENTS / NEWS_CONTENTS / COMPANY_PROFILES / SERVICE_DETAILS_LIST 等）を変更・分割・追加しない。
- セクション順序（Hero → MISSION → SERVICE → NEWS）を保持。
- 背景画像URL・任意値クラス（`w-[46%]` 等）を意図なく変更しない。

[章末の確認]
- 動作（表示/遷移）と主要見た目（高さ/枚数/カラム構造）を箇条書き。
- コマンドはコードブロックで1行1コマンド。

- [可変パラメータ記入例]
- 章タイトル: 02レイアウト作成
- 到達目標: `layout.tsx`に共通レイアウトとヘッダー/フッターを配置
- ページ構成: `/` `/company` `/service`
- デザイン値: テーマカラー`#1d5396` 最大幅`960px` ブレークポイント`max-width:768px`
- データフェッチ: none

[出力フロー]
1. design.mdを読んで前提把握。
2. contents.mdの章立てと整合確認。
3. 対象章タイプを判定（A/B/C）。
4. 章本文を規約どおり執筆。
5. 解答例 ↔ 実ファイル差分ゼロ確認。

- 日本語の表記揺れ・かっこ前後のスペースなどJTF/PRHに沿って整える。
- 解答例貼付後に必ず該当`src/app/...`ファイルを開いて差分がないか目視確認（必要なら`diff`/エディター差分表示）。
- 差分が存在する場合は「教材を正」とせず、設計意図に沿う側へ統一し再確認。

［このプロンプトへ入力する具体値の例］

- 章タイトル：02レイアウト作成
- 到達目標：`layout.tsx`に共通レイアウト、`Header`/`Footer`の配置、最小のナビゲーション確認
- ページ構成：`/`、`/company`、`/service`
- デザイン値：テーマカラー `#1d5396`、最大幅 `960px`、ブレークポイント `max-width:768px`
- データフェッチ：none（この章では扱わない）

[出力の進め方（厳守）]

1. ハンズオンの設計書（`design.md`）を読み込み、目的・前提・UI要素・デザイン値を把握する。
2. `contents.md`にハンズオンの概要説明と章立て（目次）を記載する。
3. 章を1つ作成するごとに、その章までを実際に読み進めてアプリが想定どおり構築できるかを検証する（必要なら軽微に補正）。
```

## 品質チェック用プロンプト（章レビュー時に使用）

章タイプ（A/B/C）に応じた条件分岐を含むレビュー用テンプレートです。対象Markdown全文を末尾に貼って実行します。

````markdown
あなたは厳格なレビュアーです。以下「評価基準」に従い提出章Markdownをチェックし、所定フォーマットで出力してください。

[評価対象]
- 対象章ファイル名（例）: 03-トップページ.md
- 章タイプ: A（通常課題）/ B（初期セットアップ）/ C（最終まとめ）

[評価基準]
1. 構成
   - H1 不使用（本文は H2 開始）
   - 共通順序: はじめに → 目的 → 学習対象のスキル → 本体 → 章末の確認
   - タイプA: 課題見出し（## 課題A：...）が1つ以上、各課題に定型文+仕様/ヒント/解答例
   - タイプB: 課題見出しなし / 代わりに手順H2/H3が自然な分割で並ぶ / 課題定型文不在は PASS
   - タイプC: 課題見出しなし / 「ふりかえりポイント（確認のみ）」が存在 / コードブロックでの解答例無し
2. 仕様記述（タイプA課題内のみ判定。Bは参考、Cは N/A）
   - ファイルパス明示
   - HTMLタグ構造列挙（親→子）と順序明確 / 複数候補や抽象語終わりなし
   - 数値（px/色コード/割合/時間/件数）を自然言語で記述（Tailwindクラス直書き無し）
   - 「【使用タグ】」節あり / 箇条書きでタグ名をインラインコード（例: `<div>`) で列挙 / 3階層以内 / 余計な記号・装飾無し
   - 不要な否定列挙なし / 最小禁止事項のみ
   - 語「セマンティック」「ルート」を仕様内で未使用
3. ヒント（タイプAのみ）
   - 「Tailwind の例：」行が存在し最小限ユーティリティ列挙
4. 解答例コード（タイプAのみ）
   - TSX完結 / 必要 import / Strict Parity (関数名, 配列名, タグ階層, クラス, 文字列, 画像URL)
   - 不要な後置説明文無し（コード直下に余計な段落が無い）
5. 命名・構造固定
   - ページ関数名（Top/Company/Service）変更なし
   - 既存配列名/件数変更、無断追加なし
   - セクション順序（Hero→MISSION→SERVICE→NEWS）維持（該当章）
6. 日本語表記
   - 句読点 / 全角かっこ / 不要スペース無し / コードはバッククォート / 文末句点統一
7. 章末の確認
   - 動作/表示/構造ポイント列挙 / コマンドはコードブロック1行1コマンド / タイプCは概念達成+動作3点程度
8. 逸脱禁止
   - 新規未定義ブレークポイント/任意値無し / 背景画像URL改変無し / 不要ラッパー追加無し
9. 実コード整合性（タイプAのみ厳格 / Bは設定手順にコード差分があれば確認 / Cは N/A）
   - 差分0（許容: 改行/空白のみ）

[Strict Parity 追加詳細]
- 一致粒度: 関数名 / 配列名・件数 / タグ階層 / 主要クラス値 / 画像URL / テキスト / コメント（意図保持）
- 禁止差異例: クラス欠落/追加・画像URL改変・配列件数不一致・関数名置換

[出力フォーマット]
### 総合評価: PASS | FAIL

### サマリー
<50〜120文字>

### 詳細評価
| 項目 | 状態 | 指摘数 |
| ---- | ---- | ------ |
| 構成 | PASS/FAIL | n |
| 仕様記述 | PASS/FAIL | n |
| ヒント | PASS/FAIL | n |
| 解答例コード | PASS/FAIL | n |
| 命名/構造固定 | PASS/FAIL | n |
| 日本語表記 | PASS/FAIL | n |
| 章末の確認 | PASS/FAIL | n |
| 逸脱禁止 | PASS/FAIL | n |
| 実コード整合性 | PASS/FAIL | n |

### 指摘一覧
番号 | 種別 | 重大度(H/M/L) | 箇所 | 要約 | 修正提案
1 | 仕様 | M | 課題A 仕様 | ファイルパス欠落 | 仕様冒頭にパスを追記
...

### 優先修正トップ3
1. <番号+理由>
2. <...>
3. <...>

### 自動修正候補（任意）
- <置換で解決できるもの / 無しなら「なし」>

[判定ルール]
- PASS: 全項目PASSかつ重大度Hの指摘0。
- タイプB/Cで「仕様」「ヒント」「解答例コード」「実コード整合性」が N/A の場合は表に N/A と記載し指摘数0で扱う。
````

## 開発メモ（任意）

- 開発サーバー起動

```bash
npm run dev
```

- 既定のページ

  - トップ：`http://localhost:3000/`
  - 会社概要：`http://localhost:3000/company`
  - サービス紹介：`http://localhost:3000/service`

- スタイル・用語の統一メモ
  - 仕様文では「セマンティック」「ルート」は使わない（スキル名では可）。
  - 「レスポンシブ」「コンテナー」は使用可。
  - 章本文はH2見出しから開始し、章内の見出しレベルを守る。
